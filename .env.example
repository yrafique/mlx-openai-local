# ============================================================================
# MLX Omni Server Configuration
# Single Source of Truth for All System Settings
# ============================================================================

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# API Server
API_HOST=0.0.0.0
API_PORT=7007

# API Version and Path Configuration
API_VERSION=v1
API_BASE_PATH=/v1
API_MODELS_PATH=/v1/models
API_CHAT_PATH=/v1/chat/completions

# UI Server Configuration
UI_ENABLED=true
UI_PORT=7006
UI_HOST=0.0.0.0

# ============================================================================
# MODEL CONFIGURATION
# ============================================================================

# Default Model (mlx-omni-server supports Qwen2.5 and Llama3.2 with 99% function calling)
DEFAULT_MODEL=mlx-community/Llama-3.2-3B-Instruct-4bit

# Alternative Models (comma-separated)
ALLOWED_MODELS=mlx-community/Qwen2.5-0.5B-Instruct-4bit,mlx-community/Qwen2.5-3B-Instruct-4bit,mlx-community/Qwen2.5-7B-Instruct-4bit,mlx-community/Llama-3.2-3B-Instruct-4bit

# Model Storage
MODEL_CACHE_DIR=./models

# Hugging Face Configuration
HF_TOKEN=

# ============================================================================
# OPENAI API COMPATIBILITY
# ============================================================================

# OpenAI-compatible API base (for LangChain integration)
OPENAI_API_BASE=http://localhost:7007/v1
OPENAI_API_KEY=local-demo-key

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Generation Parameters
MAX_TOKENS=4000
TEMPERATURE=0.7
TOP_P=0.9

# Server Performance
MAX_CONCURRENT_REQUESTS=10
REQUEST_TIMEOUT=300

# ============================================================================
# FEATURES
# ============================================================================

# Function Calling (enabled by default in mlx-omni-server)
ENABLE_FUNCTION_CALLING=true

# Streaming
ENABLE_STREAMING=true

# Tools and Capabilities
ENABLE_WEB_SEARCH=false
ENABLE_CODE_EXECUTION=false
ENABLE_VOICE=true

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log Level (debug, info, warning, error, critical)
LOG_LEVEL=info

# Log Directory
LOG_DIR=./logs

# Log Files
API_LOG_FILE=api.log
UI_LOG_FILE=ui.log

# Enable detailed request logging
ENABLE_REQUEST_LOGGING=true

# ============================================================================
# STARTUP BEHAVIOR
# ============================================================================

# Auto-start UI on server start (overridden by --ui flag)
AUTO_START_UI=true

# Run self-test on startup
RUN_SELFTEST=true

# Auto-install dependencies if not found
AUTO_INSTALL_DEPS=true

# ============================================================================
# DEVELOPMENT & DEBUGGING
# ============================================================================

# Development mode
DEBUG_MODE=false

# Enable CORS (for web development)
ENABLE_CORS=true

# Reload on code changes
AUTO_RELOAD=false

# ============================================================================
# SECURITY
# ============================================================================

# API Key requirement (set to true to require authentication)
REQUIRE_API_KEY=false

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=*

# ============================================================================
# ADVANCED SETTINGS
# ============================================================================

# Process IDs storage
API_PID_FILE=./api.pid
UI_PID_FILE=./ui.pid

# Health check endpoint
HEALTH_CHECK_PATH=/health

# Server startup timeout (seconds)
SERVER_STARTUP_TIMEOUT=30

# Server shutdown timeout (seconds)
SERVER_SHUTDOWN_TIMEOUT=10
